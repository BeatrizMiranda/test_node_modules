"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _utils = require("../../../utils");

async function parse(context) {
  if (!context.assets.tenant) return {};
  const {
    session_lifetime,
    idle_session_lifetime,
    ...tenant
  } = context.assets.tenant;
  (0, _utils.clearTenantFlags)(tenant);
  return {
    tenant: Object.assign(tenant, session_lifetime && (0, _utils.hoursAsInteger)('session_lifetime', session_lifetime), idle_session_lifetime && (0, _utils.hoursAsInteger)('idle_session_lifetime', idle_session_lifetime))
  };
}

async function dump(context) {
  const tenant = { ...(context.assets.tenant || {})
  };
  (0, _utils.clearTenantFlags)(tenant);
  return {
    tenant
  };
}

exports.default = {
  parse,
  dump
};